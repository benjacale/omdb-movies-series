(this.webpackJsonpomdb=this.webpackJsonpomdb||[]).push([[0],{22:function(e,t,s){},82:function(e,t,s){"use strict";s.r(t),s.d(t,"UserContext",(function(){return F})),s.d(t,"LastLocationContext",(function(){return A}));var c=s(5),a=s(1),n=s.n(a),r=s(36),i=s(2),o=s(3),l=s(4),d=s.n(l),b=s(23),j=s.n(b),u=s(37),m=s(13),x=function(e,t){console.log("%c------------------------\n%cAPI ERROR ".concat(e,"%c ").concat(t,"\n------------------------"),"color:red; font-weight:bold","background-color:red; color: white; font-weight:bold","color:red; font-weight:bold")},h=s(38),p=s(39),f=s(16),O=s.n(f),v=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"successMessage",value:function(e){O.a.fire({icon:"success",title:e,showConfirmButton:!1,timer:2e3})}},{key:"errorMessage",value:function(e){O.a.fire({icon:"error",title:e,showConfirmButton:!1,timer:2500})}}]),e}(),N=s(0),g=function(){var e=Object(a.useContext)(F),t=e.user,s=e.setUser,n=Object(a.useState)({input:""}),r=Object(c.a)(n,2),l=r[0],b=r[1],h=Object(o.g)(),p=function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"});case 4:e.sent.isConfirmed&&(v.successMessage("See you soon!"),d.a.post("/api/auth/logout"),s({}),h.push("/")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c=e.t0.response,x(c.status,c.statusText);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)("div",{children:Object(N.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark border-bottom border-secondary fixed-top",children:Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(i.b,{to:"/home",style:{textDecoration:"none"},children:Object(N.jsx)("span",{className:"navbar-brand mb-0 h1 fs-1 ps-4 text-warning",style:{fontFamily:"'Faster One', cursive"},children:"OMDB"})}),Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"true","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{className:"navbar-toggler-icon"})}),Object(N.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(N.jsx)("form",{className:"d-flex ms-auto mt-2 mb-2",onSubmit:function(e){e.preventDefault(),h.push("/search/".concat(l.input))},children:Object(N.jsx)("input",{className:"form-control me-2 bg-dark border border-secondary text-white searchInput w-100",style:{height:"50px",width:"400px",fontSize:"15px"},type:"search",placeholder:"Search movie or serie...","aria-label":"Search",onChange:function(e){b(Object(m.a)({},e.target.localName,e.target.value.trim()))}})}),t.id?Object(N.jsxs)("ul",{className:"navbar-nav ms-auto mt-2 mb-2 d-flex flex-row justify-content-center",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/me",children:Object(N.jsxs)("button",{className:"btn btn-outline-primary",id:"btnUser",children:[" ",t.name," ",Object(N.jsx)("i",{className:"fa-solid fa-chevron-right ps-2",style:{color:"white"}})," "]})})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/home",children:Object(N.jsxs)("button",{className:"btn btn-outline-warning",onClick:p,children:[" Log out ",Object(N.jsx)("i",{className:"bi bi-power ps-1"})]})})})]}):Object(N.jsxs)("ul",{className:"navbar-nav ms-auto mt-2 mb-2 d-flex flex-row justify-content-center",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/sign-in",children:Object(N.jsx)("button",{className:"btn btn-outline-warning",id:"btnLogin",children:" Log in "})})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/sign-up",children:Object(N.jsx)("button",{className:"btn btn-primary",children:" Sign up"})})})]})]})]})})})},y=s(6),w=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),s=t[0],n=t[1];return{value:s,onChange:function(e){return n(e.target.value)}}},S=(s(22),function(){var e=Object(a.useContext)(A).setLastLocation,t=Object(o.g)(),s=w(),n=w(),r=w(),l=w(),b=Object(a.useState)(!1),j=Object(c.a)(b,2),u=j[0],m=j[1];Object(a.useEffect)((function(){e("")}),[]);return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"container2",children:Object(N.jsx)("h1",{className:"mt-5",style:{color:"#F5F5F5",fontSize:"35px"},children:" Create your account "})}),Object(N.jsx)("div",{className:"container2",children:Object(N.jsx)("div",{className:"pt-4 ps-1 pe-1 ms-4 me-4 mt-2",style:{backgroundColor:"#3d4146",borderRadius:"30px"},children:Object(N.jsxs)("form",{className:"signUpContainer",onSubmit:function(e){e.preventDefault(),d.a.post("api/auth/register",{name:(s.value.trim().charAt(0).toUpperCase()+s.value.trim().slice(1).toLowerCase()).trim(),surname:n.value.trim().charAt(0).toUpperCase()+n.value.trim().slice(1).toLowerCase().trim(),email:r.value,password:l.value}).then((function(e){"SequelizeValidationError"===e.data.name?("Validation len on password failed"===e.data.errors[0].message&&v.errorMessage("The password must contain between 8-20 characters."),"Validation is on name failed"===e.data.errors[0].message&&v.errorMessage("Name must contain only letters."),"Validation is on surname failed"===e.data.errors[0].message&&v.errorMessage("Surname must contain only letters.")):"SequelizeUniqueConstraintError"===e.data.name?v.errorMessage("The email already exists."):(v.successMessage("User created successfully"),t.push("/sign-in"))})).catch((function(e){return console.log(e)}))},children:[Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",Object(y.a)(Object(y.a)({type:"text",className:"form-control text-white border border-secondary signUpInputs nameInput",style:{backgroundColor:"#3d4146"},placeholder:"Name*"},s),{},{required:!0}))}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",Object(y.a)(Object(y.a)({type:"text",className:"form-control text-white border border-secondary signUpInputs nameInput",style:{backgroundColor:"#3d4146"},placeholder:"Surname*"},n),{},{required:!0}))}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",Object(y.a)(Object(y.a)({type:"email",className:"form-control text-white border border-secondary signUpInputs emailInput",style:{backgroundColor:"#3d4146"},"aria-describedby":"emailHelp",placeholder:"E-mail*"},r),{},{required:!0}))}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsxs)("div",{className:"input-group mb-3",children:[Object(N.jsx)("input",Object(y.a)(Object(y.a)({type:u?"text":"password",className:"form-control text-white border border-secondary signUpInputs passwordInput",style:{backgroundColor:"#3d4146"},placeholder:"Password*"},l),{},{required:!0})),Object(N.jsx)("button",{className:"btn btn-outline-secondary seePassword",type:"button",id:"button-addon2",onClick:function(){return m(!u)},children:u?Object(N.jsx)("i",{className:"bi bi-eye"}):Object(N.jsx)("i",{className:"bi bi-eye-slash"})})]})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsxs)("button",{type:"submit",className:"btn btn-warning w-100 m-0 mt-4 ".concat(s.value&&n.value&&r.value&&l.value?null:"disabled"),children:["Sign up ",Object(N.jsx)("i",{className:"fa-solid fa-user-plus ps-1"})]})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)(i.b,{to:"/sign-in",className:"text-white",style:{textDecoration:"none"},children:Object(N.jsxs)("p",{style:{fontSize:"0.8em"},children:["Already have an account? Log in ",Object(N.jsx)("i",{className:"fa-solid fa-arrow-right-to-bracket ps-1"})," "]})})})]})})})]})}),k=function(){var e=Object(a.useContext)(F).setUser,t=Object(a.useContext)(A).lastLocation,s=Object(a.useState)(!1),n=Object(c.a)(s,2),r=n[0],l=n[1],b=Object(o.g)(),j=w(),u=w();return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"container1",children:Object(N.jsx)("h1",{style:{color:"#F5F5F5",fontSize:"35px"},children:" Sign in to OMDB "})}),Object(N.jsx)("div",{className:"container2",children:Object(N.jsx)("div",{className:"pt-4 ps-1 pe-1 ms-4 me-4 mt-2 bg-",style:{backgroundColor:"#3d4146",borderRadius:"20px"},children:Object(N.jsxs)("form",{className:"signUpContainer",onSubmit:function(s){s.preventDefault(),d.a.post("api/auth/login",{email:j.value,password:u.value}).then((function(e){return e.data})).then((function(t){e(t),v.successMessage("Welcome, ".concat(t.name,"!"))})).then((function(){"/search/"===t.substring(0,8)?b.goBack():b.push("/me")})).catch((function(e){var t=e.response;v.errorMessage("Invalid email or password."),x(null===t||void 0===t?void 0:t.status,null===t||void 0===t?void 0:t.statusText)}))},children:[Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",Object(y.a)(Object(y.a)({type:"email",className:"form-control text-white border border-secondary signUpInputs emailInput",style:{backgroundColor:"#3d4146"},"aria-describedby":"emailHelp",placeholder:"E-mail"},j),{},{required:!0}))}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("div",{className:"input-group mb-3",children:[Object(N.jsx)("input",Object(y.a)(Object(y.a)({type:r?"text":"password",className:"form-control text-white border border-secondary signUpInputs passwordInput",style:{backgroundColor:"#3d4146"},placeholder:"Password"},u),{},{required:!0})),Object(N.jsx)("button",{className:"btn btn-outline-secondary seePassword",type:"button",id:"button-addon2",onClick:function(){return l(!r)},children:r?Object(N.jsx)("i",{className:"bi bi-eye"}):Object(N.jsx)("i",{className:"bi bi-eye-slash"})})]}),Object(N.jsx)("p",{className:"d-flex ms-auto mt-1",style:{fontSize:"0.8em"},children:" Forgot password? "})]}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsxs)("button",{type:"submit",className:"btn btn-warning w-100 m-0 mt-4 ".concat(j.value&&u.value?null:"disabled"),children:[" Log in ",Object(N.jsx)("i",{className:"fa-solid fa-arrow-right-to-bracket ps-1"})]})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)(i.b,{to:"/sign-up",className:"text-white",style:{textDecoration:"none"},children:Object(N.jsxs)("p",{style:{fontSize:"0.8em"},children:[" Create an account for free ",Object(N.jsx)("i",{className:"fa-solid fa-user-plus ps-1"})]})})})]})})})]})},C=function(){var e=Object(a.useContext)(A),t=(e.lastLocation,e.setLastLocation),s=Object(a.useState)([]),n=Object(c.a)(s,2),r=n[0],o=n[1],l="ac5f1fca";return Object(a.useEffect)((function(){var e=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=borgen")).then((function(e){return e.data})),t=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=walking")).then((function(e){return e.data})),s=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=stranger&things")).then((function(e){return e.data})),c=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=peaky")).then((function(e){return e.data})),a=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=superman")).then((function(e){return e.data})),n=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=ironman")).then((function(e){return e.data})),r=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=men")).then((function(e){return e.data})),i=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=bad")).then((function(e){return e.data})),b=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=spider")).then((function(e){return e.data})),j=d.a.get("https://www.omdbapi.com/?apikey=".concat(l,"&s=peaky")).then((function(e){return e.data}));Promise.all([e,t,s,c,a,n,r,i,b,j]).then((function(e){return o(e)}))}),[]),Object(a.useEffect)((function(){t("")}),[]),Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"container-fluid text-warning p-5",children:[Object(N.jsx)("div",{className:"container2",children:Object(N.jsx)("h1",{className:"d-flex justify-content-center text-light",style:{color:"#F5F5F5",fontSize:"35px"},children:" LET'S START! "})}),Object(N.jsx)("h3",{className:"mb-4 mt-5 d-flex justify-content-center border-top border-bottom border-5 border-primary pt-2 pb-2",children:" Series "}),Object(N.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:r?r.map((function(e,t){return Object(N.jsx)("div",{children:e.Search.map((function(e,t){return Object(N.jsx)("div",{children:"series"===e.Type?Object(N.jsx)(i.b,{to:"/search/".concat(e.Title,"/").concat(e.imdbID),children:Object(N.jsx)("img",{className:"posters",src:"N/A"===e.Poster?"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/495px-No-Image-Placeholder.svg.png":e.Poster,alt:"Movie poster"})}):null},t)}))},t)})):Object(N.jsx)("p",{className:"text-white",children:"No matches found."})})]}),Object(N.jsxs)("div",{className:"container-fluid text-warning p-5",children:[Object(N.jsx)("h3",{className:"mb-5 d-flex justify-content-center border-top border-bottom border-5 border-primary pt-2 pb-2",children:" Movies "}),Object(N.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:r?r.map((function(e,t){return Object(N.jsx)("div",{children:e.Search.map((function(e,t){return Object(N.jsx)("div",{children:"movie"===e.Type?Object(N.jsx)(i.b,{to:"/search/".concat(e.Title,"/").concat(e.imdbID),children:Object(N.jsx)("img",{className:"posters",src:"N/A"===e.Poster?"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/495px-No-Image-Placeholder.svg.png":e.Poster,alt:"Movie poster"})}):null},t)}))},t)})):Object(N.jsx)("p",{className:"text-white",children:"No matches found."})})]})]})})},I=function(){var e=Object(a.useContext)(F).user;return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"container container1",children:Object(N.jsx)("i",{className:"bi bi-person-bounding-box",style:{fontSize:"80px"}})}),Object(N.jsx)("div",{className:"container2 fs-2",children:Object(N.jsxs)("p",{className:"mb-0",style:{fontFamily:"'Rammetto One', cursive"},children:[" ",e.name," ",e.surname," "]})}),Object(N.jsx)("div",{className:"container2",children:Object(N.jsx)("p",{style:{fontSize:"16px",letterSpacing:"1px",fontFamily:"'Rammetto One', cursive"},children:" MY PROFILE "})}),Object(N.jsx)("div",{className:"bg-secondary d-flex mt-5",style:{height:"100%"},children:Object(N.jsxs)("div",{className:"row mt-5 mb-5 ps-5 pe-5 text-dark",children:[Object(N.jsx)("div",{className:"col-sm-4 mb-2",children:Object(N.jsx)(i.b,{to:"/me/my-favourites",style:{textDecoration:"none"},children:Object(N.jsx)("div",{className:"card",style:{backgroundColor:"#f8f8ff"},children:Object(N.jsxs)("div",{className:"card-body profileCards pb-0",children:[Object(N.jsx)("h5",{className:"card-title text-primary",children:" My favourites "}),Object(N.jsx)("p",{className:"card-text text-dark",children:" If you like a movie or serie, you can add it to favourites and find it in this section. "}),Object(N.jsxs)("div",{className:"d-flex justify-content-between pe-3 mt-4 text-dark",children:[Object(N.jsx)("p",{className:"fw-bold",style:{fontSize:"15px"},children:" VIEW AND EDIT "}),Object(N.jsx)("i",{className:"fa-solid fa-circle-chevron-right"})]})]})})})}),Object(N.jsx)("div",{className:"col-sm-4 mb-2",children:Object(N.jsx)(i.b,{to:"/me/search-users",style:{textDecoration:"none"},children:Object(N.jsx)("div",{className:"card",style:{backgroundColor:"#f8f8ff"},children:Object(N.jsxs)("div",{className:"card-body profileCards pb-0",children:[Object(N.jsx)("h5",{className:"card-title text-primary",children:" Other users "}),Object(N.jsx)("p",{className:"card-text text-dark",children:" Search and view the profile of a specific user with their favourite movies or series. "}),Object(N.jsxs)("div",{className:"d-flex justify-content-between pe-3 mt-4 text-dark",children:[Object(N.jsx)("p",{className:"fw-bold",style:{fontSize:"15px"},children:" SEARCH "}),Object(N.jsx)("i",{className:"fa-solid fa-circle-chevron-right"})]})]})})})}),Object(N.jsx)("div",{className:"col-sm-4 mb-2",children:Object(N.jsx)(i.b,{to:"/me/personal-information",style:{textDecoration:"none"},children:Object(N.jsx)("div",{className:"card",style:{backgroundColor:"#f8f8ff"},children:Object(N.jsxs)("div",{className:"card-body profileCards pb-0",children:[Object(N.jsx)("h5",{className:"card-title text-primary",children:" Personal information "}),Object(N.jsx)("p",{className:"card-text text-dark",children:" View and change your email and other personal data. "}),Object(N.jsxs)("div",{className:"d-flex justify-content-between pe-3 mt-4 text-dark",children:[Object(N.jsx)("p",{className:"fw-bold",style:{fontSize:"15px"},children:" VIEW AND EDIT "}),Object(N.jsx)("i",{className:"fa-solid fa-circle-chevron-right"})]})]})})})})]})})]})};var z=function(e){var t=e.movies;return Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"container-fluid text-warning p-4",children:[Object(N.jsx)("h3",{className:"mb-5 mt-3 d-flex justify-content-center border-top border-bottom border-5 border-warning pt-2 pb-2",children:" Series "}),Object(N.jsxs)("div",{className:"d-flex flex-wrap justify-content-center",children:[t.length>=1?t.map((function(e,t){return Object(N.jsx)("div",{children:"series"===e.Type?Object(N.jsx)(i.b,{to:"/search/".concat(e.Title,"/").concat(e.imdbID),children:Object(N.jsx)("img",{className:"posters",src:"N/A"===e.Poster?"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/495px-No-Image-Placeholder.svg.png":e.Poster,alt:"Movie poster"})}):null},t)})):null,t.find((function(e){return"series"===e.Type}))?null:Object(N.jsx)("i",{className:"text-danger",children:"No matches found."})]})]}),Object(N.jsxs)("div",{className:"container-fluid text-warning p-5",children:[Object(N.jsx)("h3",{className:"mb-5 mt-3 d-flex justify-content-center border-top border-bottom border-5 border-warning pt-2 pb-2",children:" Movies "}),Object(N.jsxs)("div",{className:"d-flex flex-wrap justify-content-center",children:[t.length>=1?t.map((function(e,t){return Object(N.jsx)("div",{children:"movie"===e.Type?Object(N.jsx)(i.b,{to:"/search/".concat(e.Title,"/").concat(e.imdbID),children:Object(N.jsx)("img",{className:"posters",src:"N/A"===e.Poster?"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/495px-No-Image-Placeholder.svg.png":e.Poster,alt:"Movie poster"})}):null},t)})):null,t.find((function(e){return"movie"===e.Type}))?null:Object(N.jsx)("i",{className:"text-danger",children:"No matches found."})]})]})]})},L=function(){var e=Object(a.useContext)(F).user;return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{className:"container1",children:" My Favourites "}),e.favourites.length>=1?Object(N.jsx)(z,{movies:e.favourites}):Object(N.jsxs)("div",{className:"container2 mt-3 d-flex flex-column",children:[Object(N.jsx)("p",{children:" No movie or serie has been added. "}),Object(N.jsx)(i.b,{to:"/",children:Object(N.jsx)("button",{className:"btn btn-warning m-0 mt-4",children:" Search something to add "})})]})]})},R=function(){return Object(N.jsx)("div",{className:"underConstruction mt-5",style:{height:"100vh",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"100%",backgroundColor:"black"}})},P=function(){var e=Object(a.useContext)(F).user,t=Object(a.useState)({input:""}),s=Object(c.a)(t,2),n=s[0],r=s[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),b=l[0],j=l[1],u=Object(a.useState)([]),x=Object(c.a)(u,2),h=x[0],p=x[1];return Object(a.useEffect)((function(){d.a.get("/api/users").then((function(e){return j(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)("div",{className:"container2 d-flex flex-column",children:[Object(N.jsx)("h2",{className:"container1 mb-5 mt-5",children:" Search User "}),Object(N.jsx)("form",{className:"d-flex w-100 mb-5",onSubmit:function(e){e.preventDefault();var t=b.filter((function(e){return e.name.toLowerCase()===n.input.toLowerCase().trim()||e.surname.toLowerCase()===n.input.toLowerCase().trim()}));t.length>=1?p(t):p(!1)},children:Object(N.jsx)("input",{className:"form-control bg-dark border border-secondary text-white searchInput w-75",style:{margin:"0 auto",height:"60px",fontSize:"15px"},type:"search",placeholder:"Search by Name or Surname...","aria-label":"Search",onChange:function(e){r(Object(m.a)({},e.target.localName,e.target.value))}})}),Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"d-flex flex-wrap justify-content-center",children:[!1!==h&&(null===h||void 0===h?void 0:h.map((function(t){return Object(N.jsx)("div",{children:(null===t||void 0===t?void 0:t.name)!=e.name&&(null===t||void 0===t?void 0:t.surname)!=e.surname?Object(N.jsx)(i.b,{to:"/me/search-users/".concat(null===t||void 0===t?void 0:t.id,"/favourites"),style:{textDecoration:"none"},children:Object(N.jsx)("div",{className:"p-5",children:Object(N.jsxs)("div",{className:"usersFoundCards",children:[Object(N.jsxs)("div",{className:"pb-5 mb-5 text-light",children:[Object(N.jsx)("i",{className:"bi bi-person-fill",style:{fontSize:"100px"}}),Object(N.jsxs)("h5",{className:"ps-3 pe-3",children:[" ",null===t||void 0===t?void 0:t.name," ",null===t||void 0===t?void 0:t.surname," "]})]}),Object(N.jsxs)("div",{className:"d-flex justify-content-center pe-3 text-secondary",children:[Object(N.jsx)("p",{className:"fw-bold ps-3 pb-2",style:{fontSize:"15px"},children:" VIEW FAVOURITES "}),Object(N.jsx)("i",{className:"fa-solid fa-circle-chevron-right ms-5"})]})]})})}):Object(N.jsx)("i",{className:"bi bi-emoji-frown text-danger",children:" No matches found. Please, try again. "})})}))),!1===h&&Object(N.jsx)("i",{className:"bi bi-emoji-frown text-danger",children:" No matches found. Please, try again. "})]})})]})},T=function(){var e,t,s,n=Object(a.useState)({}),r=Object(c.a)(n,2),l=r[0],b=r[1],j=Object(o.h)().id;return Object(a.useEffect)((function(){d.a.get("/api/users/".concat(j)).then((function(e){return b(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)("div",{children:[Object(N.jsxs)("h2",{className:"container1 ps-2 pe-2 text-center",children:[" ",null===(e=l.name)||void 0===e?void 0:e.toUpperCase()," ",null===(t=l.surname)||void 0===t?void 0:t.toUpperCase(),"'s list "]}),(null===(s=l.favourites)||void 0===s?void 0:s.length)>=1?Object(N.jsx)(z,{movies:l.favourites}):Object(N.jsxs)("div",{className:"container2 mt-3 d-flex flex-column",children:[Object(N.jsx)("p",{children:" No movie or serie has been added. "}),Object(N.jsx)(i.b,{to:"/me/search-users",children:Object(N.jsx)("button",{className:"btn btn-warning m-0 mt-4",children:" Search another user "})})]})]})},D=function(){var e=Object(a.useContext)(A),t=(e.lastLocation,e.setLastLocation),s=Object(a.useState)([]),n=Object(c.a)(s,2),r=n[0],i=n[1],l=Object(o.h)().input;return Object(a.useEffect)((function(){d.a.get("https://www.omdbapi.com/?apikey=ac5f1fca&s=".concat(l)).then((function(e){"True"===e.data.Response?i(e.data.Search):i([])}))}),[r]),Object(a.useEffect)((function(){t("")}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:Object(N.jsxs)("h4",{className:"mt-5 mb-3 fst-italic",children:[' Results for "',l,'"']})}),Object(N.jsx)("div",{children:Object(N.jsx)(z,{movies:r})})]})},E=s(18),M=function(){var e,t,s=Object(a.useContext)(F),n=s.user,r=s.setUser,l=Object(a.useContext)(A),b=(l.lastLocation,l.setLastLocation),j=Object(o.g)(),u=Object(o.h)().movieId,m=Object(a.useState)({}),x=Object(c.a)(m,2),h=x[0],p=x[1];Object(a.useEffect)((function(){d.a.get("https://www.omdbapi.com/?apikey=".concat("ac5f1fca","&i=").concat(u)).then((function(e){return e.data})).then((function(e){return p(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){b(j.location.pathname)}),[]);return Object(N.jsx)("div",{className:"container",style:{marginTop:"100px"},children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-3 text-center",children:Object(N.jsx)("img",{className:"mt-4",style:{width:"100%"},src:h.Poster,alt:"Movie poster"})}),Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsxs)("div",{className:"ms-4 me-4",children:[Object(N.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(N.jsx)("p",{className:"row mb-0 mt-4 me-4 border bg-light justify-content-center text-dark text-uppercase",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.Type}),Object(N.jsx)("p",{className:"row mb-0 mt-4 me-4 border bg-light justify-content-center text-dark text-uppercase",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.Rated}),Object(N.jsx)("p",{className:"row mb-0 mt-4 border bg-light justify-content-center text-dark text-uppercase",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.Runtime})]}),Object(N.jsxs)("h1",{className:"row text-warning mt-3",style:{fontSize:"35px"},children:[" ",h.Title," "]}),Object(N.jsxs)("p",{className:"row mb-4",style:{fontSize:"17px"},children:[" ",h.Genre]}),Object(N.jsxs)("p",{className:"row",children:[" ",h.Plot," "]}),Object(N.jsxs)("p",{className:"row",children:[" Cast: ",h.Actors," "]}),"series"===h.Type&&Object(N.jsxs)("p",{className:"row mb-0",children:[" Total seasons: ",h.totalSeasons," "]}),Object(N.jsxs)("p",{className:"row",children:[" Language: ",h.Language," "]}),!n.id&&Object(N.jsxs)("p",{className:"row mt-4 mb-5 text-primary",children:[" Add to favourites?",Object(N.jsx)(i.b,{to:"/sign-in",className:"ps-0",children:Object(N.jsxs)("button",{type:"submit",className:"btn btn-sm btn-outline-primary mt-2 ms-0",children:["Log in ",Object(N.jsx)("i",{className:"fa-solid fa-arrow-right-to-bracket ps-1"})]})})]}),n.id&&!(null===(e=n.favourites)||void 0===e?void 0:e.some((function(e){return e.imdbID===h.imdbID})))&&Object(N.jsxs)("p",{className:"mt-4",children:[Object(N.jsx)("i",{className:"bi bi-plus-circle fs-3 favouriteIcon",onClick:function(){d.a.put("/api/users/".concat(n.id),{favourites:[].concat(Object(E.a)(n.favourites),[h])}).catch((function(e){return console.log(e)})),r(Object(y.a)(Object(y.a)({},n),{},{favourites:[].concat(Object(E.a)(n.favourites),[h])}))},style:{color:"#0d6efd"}}),Object(N.jsx)("i",{className:"ms-2 text-primary",style:{fontSize:"17px"},children:" Add to favourites "})]}),n.id&&(null===(t=n.favourites)||void 0===t?void 0:t.some((function(e){return e.imdbID===h.imdbID})))&&Object(N.jsxs)("div",{className:"mt-4 mb-3",children:[Object(N.jsx)("i",{className:"bi bi-check-circle fs-3 favouriteIcon",onClick:function(){var e=Object(E.a)(n.favourites),t=e.findIndex((function(e){return e.imdbID===h.imdbID}));e.splice(t,1),d.a.put("/api/users/".concat(n.id),{favourites:e}).catch((function(e){return console.log(e)})),r(Object(y.a)(Object(y.a)({},n),{},{favourites:e}))},style:{color:"#198754"}}),Object(N.jsx)("i",{className:"ms-2 text-success",style:{fontSize:"17px"},children:" Click to remove "})]})]})}),Object(N.jsxs)("div",{className:"col-lg-3 text-center ps-5",children:[Object(N.jsxs)("div",{className:"border border-3 border-secondary d-flex justify-content-around pt-2 mt-3",style:{borderRadius:"20px",width:"80%",height:"100px"},children:[Object(N.jsx)("div",{style:{width:"100%"},children:Object(N.jsx)("i",{className:"bi bi-calendar p-1",style:{fontSize:"40px"}})}),Object(N.jsxs)("div",{className:"d-flex flex-column pe-2",style:{width:"100%"},children:[Object(N.jsx)("p",{className:"text-secondary fw-bold",style:{borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:"Year"}),Object(N.jsx)("p",{className:"text-light w-100",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.Year})]})]}),Object(N.jsxs)("div",{className:"border border-3 border-secondary d-flex justify-content-around pt-2 mt-3",style:{borderRadius:"20px",width:"80%",height:"100px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"bi bi-flag",style:{fontSize:"40px"}})}),Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("p",{className:"text-secondary fw-bold",style:{borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:"Country"}),Object(N.jsx)("p",{className:"text-light w-100",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.Country})]})]}),Object(N.jsxs)("div",{className:"border border-3 border-secondary d-flex justify-content-around pt-2 mt-3",style:{borderRadius:"20px",width:"80%",height:"100px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"bi bi-camera-reels",style:{fontSize:"40px"}})}),Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("p",{className:"text-secondary fw-bold",style:{borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:"Director"}),Object(N.jsx)("p",{className:"text-light w-100",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.Director})]})]}),Object(N.jsxs)("div",{className:"border border-3 border-secondary d-flex justify-content-around pt-2 mt-3",style:{borderRadius:"20px",width:"80%",height:"100px"},children:[Object(N.jsx)("div",{className:"p-2",children:Object(N.jsx)("i",{className:"bi bi-star",style:{fontSize:"40px"}})}),Object(N.jsxs)("div",{className:"d-flex flex-column p-2",children:[Object(N.jsx)("p",{className:"text-secondary fw-bold",style:{borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:"Rating"}),Object(N.jsx)("p",{className:"text-light w-100",style:{width:"75px",borderRadius:"15px",opacity:"0.90",fontSize:"15px"},children:h.imdbRating})]})]})]})]})})},U=function(){var e=Object(a.useContext)(F).setUser;return Object(a.useEffect)((function(){d.a.get("/api/auth/me").then((function(e){return e.data})).then((function(t){return e(t)})).catch((function(e){var t=e.response;return x(t.status,t.statusText)}))}),[]),Object(N.jsxs)("div",{className:"container-fluid p-0",children:[Object(N.jsx)(g,{}),Object(N.jsx)("div",{children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{exact:!0,path:"/",component:C}),Object(N.jsx)(o.b,{exact:!0,path:"/sign-up",component:S}),Object(N.jsx)(o.b,{exact:!0,path:"/sign-in",component:k}),Object(N.jsx)(o.b,{exact:!0,path:"/me",component:I}),Object(N.jsx)(o.b,{exact:!0,path:"/me/my-favourites",component:L}),Object(N.jsx)(o.b,{exact:!0,path:"/me/search-users",component:P}),Object(N.jsx)(o.b,{exact:!0,path:"/me/search-users/:id/favourites",component:T}),Object(N.jsx)(o.b,{exact:!0,path:"/me/personal-information",component:R}),Object(N.jsx)(o.b,{exact:!0,path:"/search/:input",render:function(){return Object(N.jsx)(D,{})}}),Object(N.jsx)(o.b,{exact:!0,path:"/search/:movieTitle/:movieId",render:function(e){var t=e.match;return Object(N.jsx)(M,{movieId:t.params.id})}}),Object(N.jsx)(o.a,{to:"/"})]})})]})},F=Object(a.createContext)({}),A=Object(a.createContext)(""),B=function(){var e=Object(a.useState)({}),t=Object(c.a)(e,2),s=t[0],r=t[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),d=l[0],b=l[1];return Object(N.jsx)(i.a,{children:Object(N.jsx)(F.Provider,{value:{user:s,setUser:r},children:Object(N.jsx)(A.Provider,{value:{lastLocation:d,setLastLocation:b},children:Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(U,{})})})})})};t.default=Object(r.render)(Object(N.jsx)(B,{}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.23617713.chunk.js.map